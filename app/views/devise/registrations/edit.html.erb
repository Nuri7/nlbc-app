<div id="sign-up">
  <div class="container">
    <%= bootstrap_devise_error_messages! %>
    <div class="row justify-content-md-center">
      <div class="card text-center" style="width: 30rem; margin-bottom: 20px;">
        <div class="card-body">
          <div class="card-title">My Profile</div>
          <div class="form-group">
            <p align="center"><%= image_tag (@user.avatar.present? ? @user.avatar.url(:thumb) : 'missing.png'), height: 120, class: 'rounded-circle' %></p>
          </div>
          <div class="form-group">
            <label>Email:</label>
            <p><%= @user.email %></p>
          </div>
          <div class="form-group">
            <label>First name:</label>
            <p><%= @user.first_name.present? ? @user.first_name : "Not provided" %></p>
          </div>
          <div class="form-group">
            <label>Last name:</label>
            <p><%= @user.last_name.present? ? @user.last_name : "Not provided" %></p>
          </div>
          <div class="form-group">
            <label>City:</label>
            <p><%= @user.city.present? ? @user.city : "Not provided" %></p>
          </div>
          <% if is_teacher?(@user) %>
            <div class="form-group">
              <label>Teacher Description:</label>
              <p><%= @user.description.present? ? @user.description : "Not provided" %></p>
            </div>
            <div class="form-group">
              <label>Teacher Passion:</label>
              <p><%= @user.passion.present? ? @user.passion : "Not provided" %></p>
            </div>
          <% end %>
          <div class="form-group">
            <label>Gender:</label>
            <p><%= !@user.male.nil? ? (@user.male == true ? 'Male' : "Female") : "Not provided" %></p>
          </div>
        </div>
      </div>
    </div>

    <div class="row justify-content-md-center">
      <div class="card" style="width: 30rem;">
        <div class="card-body">
          <div class="card-title">Edit account information</div>
          <hr>
          <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { multipart: true, method: :put }) do |f| %>
            <div class="form-group">
              <%= f.label :avatar, "PROFILE PICTURE" %>
              <%= f.file_field :avatar, class: 'form-control' %>
            </div>
            <div class="form-group">
              <%= f.label :email, "EMAIL" %>
              <%= f.email_field :email, class: 'form-control' %>
            </div>
            <div class="form-group">
              <%= f.label :first_name, "FIRST NAME" %>
              <%= f.text_field :first_name, class: 'form-control' %>
            </div>
            <div class="form-group">
              <%= f.label :last_name, "LAST NAME" %>
              <%= f.text_field :last_name, class: 'form-control' %>
            </div>
            <div class="form-group">
              <%= f.label :city, "CITY" %>
              <%= f.text_field :city, class: 'form-control' %>
            </div>
            <div class="form-group">
              <%= f.label :male, 'GENDER' %>
              <%= f.select :male, [['Male', true],['Female', false]], {include_blank: true}, { class: 'form-control' }%>
            </div>
            <% if is_teacher?(@user) %>
              <div class="form-group">
                <%= f.label :description, "TEACHER DESCRIPTION" %>
                <%= f.text_area :description, class: 'form-control' %>
              </div>
              <div class="form-group">
                <%= f.label :passion, "Passion" %>
                <%= f.select :passion, Passion.all.map{|passion| passion.title.capitalize},{include_blank: true},class: 'form-control' %>
              </div>
            <% end %>
            <div class="red-back">
              <span>Edit this fields only if you want to change your password!</span>
              <div class="form-group">
                <%= f.label :password_confirmation, "NEW PASSWORD" %> <i>(<%= t('.leave_blank_if_you_don_t_want_to_change_it', default: "leave blank if you don't want to change it") %>)</i>
                <%= f.password_field :password, autocomplete: "off", class: 'form-control' %>
              </div>
              <div class="form-group">
                <%= f.label :password_confirmation, "PASSWORD CONFIRMATION" %>
                <%= f.password_field :password_confirmation, class: 'form-control'  %>
              </div>
            </div>
            <%= f.submit t('.sign_up', default: 'Update'), class: 'btn btn-primary' %>
          <% end %>
          <div id="links">
            <%= t('.unhappy', default: 'Unhappy') %>? <%= link_to t('.cancel_my_account', default: 'Cancel my account'), registration_path(resource_name), data: { confirm: t('.are_you_sure', default: "Are you sure?") }, method: :delete %>
            <%= link_to t('.back', default: 'Back'), :back %>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
